function u(e){window.enmity.plugins.registerPlugin(e)}function o(e,r){return window.enmity.modules.getModule(e,r)}function t(...e){return window.enmity.modules.getByProps(...e)}window.enmity.modules.common;var d="ThemeFixer",l="1.0.0",s="Workaround for light/AMOLED theme bug introduced by Enmity.",m=[{name:"pylix",id:"492949202121261067"}],a={name:d,version:l,description:s,authors:m};const i=window.enmity.modules.common.Dispatcher,c=o(e=>{var r;return((r=e==null?void 0:e.getName)==null?void 0:r.call(e))==="ThemeStore"}),v=o(e=>{var r;return((r=e==null?void 0:e.getName)==null?void 0:r.call(e))==="UnsyncedUserSettingsStore"}),h=t("overrideTheme"),g=t("setAMOLEDThemeEnabled"),y={...a,onStart(){const e=function(){var r;try{h.overrideTheme((r=c.theme)!=null?r:"dark"),g.setAMOLEDThemeEnabled(v.useAMOLEDTheme===2),i.unsubscribe("I18N_LOAD_START",e)}catch(n){console.error(`An error occurred while trying to override theme:
`+(n==null?void 0:n.stack))}};i.subscribe("I18N_LOAD_START",e)},onStop(){}};u(y);
