function d(o){window.enmity.plugins.registerPlugin(o)}window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native,window.enmity.modules.common.React;const s=window.enmity.modules.common.Dispatcher;window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function m(o,e){return window.enmity.modules.getModule(o,e)}function i(...o){return window.enmity.modules.getByProps(...o)}window.enmity.modules.common;var w="ThemeFixer",l="1.0.0",r="Workaround for light/AMOLED theme bug introduced by Enmity.",u=[{name:"pylix",id:"492949202121261067"}],c={name:w,version:l,description:r,authors:u};const t=s,a=m(o=>{var e;return((e=o==null?void 0:o.getName)==null?void 0:e.call(o))==="ThemeStore"}),y=m(o=>{var e;return((e=o==null?void 0:o.getName)==null?void 0:e.call(o))==="UnsyncedUserSettingsStore"}),g=i("overrideTheme"),v=i("setAMOLEDThemeEnabled"),h={...c,onStart(){const o=function(){var e;try{g.overrideTheme((e=a.theme)!=null?e:"dark"),v.setAMOLEDThemeEnabled(y.useAMOLEDTheme===2),t.unsubscribe("I18N_LOAD_START",o)}catch(n){console.error(`An error occurred while trying to override theme:
`+(n==null?void 0:n.stack))}};t.subscribe("I18N_LOAD_START",o)},onStop(){}};d(h);
